'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OpenTelemetryProvider = void 0;

var _BasicProvider = require("./BasicProvider");

const {
  conditionalRequire
} = require('../../utils');

class OpenTelemetryProvider extends _BasicProvider.BasicProvider {
  constructor() {
    super();
    this.globalStoreName = "__rookout_opentelemetry_span";
    this.name = "opentelemetry";
  }

  patch() {
    this.tracingEnabled = conditionalRequire("@opentelemetry/api") !== undefined;
    return this.tracingEnabled;
  }

  setDebuggerEvaluationCondition() {
    return `(global["${this.globalStoreName}"] = require("@opentelemetry/api")?.trace?.getActiveSpan()?._spanContext) || true`;
  }

}

exports.OpenTelemetryProvider = OpenTelemetryProvider;