"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BasicProvider = void 0;

var _ContainerNamespace = _interopRequireDefault(require("../../processor/namespaces/ContainerNamespace"));

var _LogRecordNamespace = _interopRequireDefault(require("../../processor/namespaces/LogRecordNamespace"));

var _LogRecord = require("./LogRecord");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class BasicProvider {
  constructor(loggingService) {
    this.loggingService = loggingService;
    this.module = _LogRecord.LogModules.BASIC_PROVIDER;
  }

  patch() {
    return false;
  }

  unpatch() {}

  onNewLog(record) {
    if (Object.keys(this.loggingService.augs).length > 0) {
      const logRecord = new _LogRecord.LogRecord(record, this.module);
      const extracted = new _ContainerNamespace.default({
        'log_record': new _LogRecordNamespace.default(logRecord)
      });

      for (const aug of Object.values(this.loggingService.augs)) {
        aug.execute(null, extracted);
      }
    }
  }

}

exports.BasicProvider = BasicProvider;